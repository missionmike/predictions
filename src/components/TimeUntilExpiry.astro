---
import { calculateTimeUntilText } from '../utils/timeUntil';

interface Props {
  pubDate: Date;
  expiryDate: Date;
}

const { pubDate, expiryDate } = Astro.props;
const timeUntilText = calculateTimeUntilText(expiryDate);
---

<strong style={timeUntilText.includes('ago') ? 'color: red;' : ''}>
  {timeUntilText.includes('ago') ? 'Expired: ' : 'Time left: '}
  <time
    datetime={pubDate.toISOString()}
    class={timeUntilText.includes('ago') ? 'text-red-500' : ''}
  >
    {timeUntilText}
  </time>
</strong>
